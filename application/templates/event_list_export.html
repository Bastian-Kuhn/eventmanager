{% extends 'base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}
{% block page_content %}
<div id="filter" style="background-color: #e9ecef; border-radius: .3rem; padding: 5px; margin: 5px;">
 <b>Filter:</b>
 <form  action="{{ url_for('EVENTS.page_list') }}" method="POST">
  <div class="form-row">
    <div class="form-group col-md-2">
    {{ wtf.form_field(search_form.filter_name) }}
    </div>
    <div class="form-group col-md-2">
    {{ wtf.form_field(search_form.filter_category) }}
    </div>
    <div class="form-group col-md-2">
    {{ wtf.form_field(search_form.filter_date) }}
    </div>
    <div class="form-group col-md-3">
    <label class="form-control-label">Optionen</label>
    {{ wtf.form_field(search_form.filter_future) }}
    {% if current_user.is_authenticated %}
    {{ wtf.form_field(search_form.filter_own) }}
    {{ wtf.form_field(search_form.export) }}
    {% endif %}
    </div>
    <div class="form-group col-md-3">
        {{ wtf.form_field(search_form.filter_send) }}
        <a href="{{ url_for('EVENTS.page_list') }}" class="btn btn-secondary" role="button">Reset</a>
     {{ search_form.hidden_tag() }}
    </div>
  </div>
 </form>
</div>
<br>
   <table class="table table-bordered">
    {% for event in events %}
    <tr>
      <td>
        {{ event.start_date.strftime("%a %d.%m") }}
      </td>
      <td>
        {{ event_categories[event.event_category] }}
        <br>
        <br>
        {% if event.length_h %}
            {{ event.length_h }} h
            <br>
        {% endif %}
        {% if event.length_km %}
            {{ event.length_km }} km
            <br>
        {% endif %}
        {% if event.altitude_difference %}
            {{ event.altitude_difference }} hm
            <br>
        {% endif %}
        <br>
        <br>
         T {{ render_dificulty(event.difficulty, 1) }}
        <br>
         K {{ render_dificulty(event.shape, 2)}}
        <br>
      </td>
      <td>
         {{ event.event_name }}
      </td>
      <td>
         {{ event.event_teaser }}
      </td>
    </tr>
   {% endfor %}
  </table>
{% endblock %}
